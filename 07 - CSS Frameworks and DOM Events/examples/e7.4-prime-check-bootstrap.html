<!--
    ----
     Rework the 'Prime Number Checker' example from section 5 to use bootstrap UI elements, events and functions as
     illustrated in examples e7.1 and e7.2.
    ----

    Prime Number Checker

    A prime number is a positive integer greater than 1 that is only divisible by 1 and itself.
    For example, 2, 3, 5, 7, 11 are the first few prime numbers. Write a JavaScript program that
    will accept a single numeric value and determine if it is a prime number or not. For cases
    when the number is not a prime number include all divisors.

    The solution should include the following elements:

    - use Bootstrap's grid for layout
    - use input field to receive the number
    - validate that the value from the user is a number, display a 'danger' alert if needed
    - use an event to call a function that performs the prime check and displays the result
    
-->
<html>
<head>
    <title></title>
</head>
<body>
<script type="text/Javascript">
     /**
     * Clear the display
     */
    function clearDisplay() {
        document.getElementById('respMsgText').innerHTML = '';
        document.getElementById('respMsgAlert').classList.add('visually-hidden');
        document.getElementById('primeCheckResults').innerHTML = '';
    }

    /**
     * This is the main function where the prime number is evaluated and the results are displayed
     */
    function checkPrime() {
        clearDisplay();
        
        // get value by id from the UI
        let number = document.getElementById('numberToEvaluate').value;
        console.log(number);

        // if the input is valid evaluate if the number is a prime
        if (isValid(number)) {
            const divsors = [];
            let isPrime = true;
            for (let i=2; i<number; i++) {
                if (number%i == 0) {
                    isPrime = false;
                    divsors.push(i);
                }
            }
            // output
            if (isPrime) {
                document.getElementById('primeCheckResults').innerHTML = `${number} is a Prime Number :)`;
            } else {
                document.getElementById('primeCheckResults').innerHTML = `${number} is not a Prime Number it is divisible by ${divsors}`;
            }
        } else {
            // alert
            document.getElementById('respMsgText').innerHTML = `The input '${number}' is not a valid number`;
            document.getElementById('respMsgAlert').classList.remove('visually-hidden');
        }
    }

    /**
     * Move validation to a function to clean up the code and make it more readable.
     * @param number
     * @returns {boolean}
     */
    function isValid(number) {
        if (number - number === 0 && number > 1) {
            return true;
        } else {
            return false;
        }
    }
</script>
</body>
</html>